server {
    listen 80;
    
    # Where your dist folder contents are copied
    # Senin dist klasörünün içeriğinin kopyalandığı yer
    root /usr/share/nginx/html;
    
    index index.html;

    # Load necessary MIME types (for CSS and JS to work correctly)
    # Gerekli MIME tiplerini yükle (CSS ve JS'in düzgün çalışması için)
    include /etc/nginx/mime.types;

    # Main Routing Rule (SPA Magic)
    # Ana Yönlendirme Kuralı (SPA Magic)
    location / {
        # 1. Is the requested file there? (e.g. /assets/index-....js)
        # 1. İstenen dosya var mı? (örn: /assets/index-....js)
        # 2. Is the directory there?
        # 2. Klasör var mı?
        # 3. If not, open index.html (Let React Router v7 handle it)
        # 3. Yoksa index.html'i aç (React Router v7 devreye girsin)
        try_files $uri $uri/ /index.html;
    }

    # Cache Settings (Optional but recommended)
    # Cache Ayarları (Opsiyonel ama önerilir)
    # Files in assets folder are hashed (names change) so they can be cached for a long time.
    # Assets klasöründeki dosyalar hash'lendiği için (isimleri değişiyor) uzun süre cache'lenebilir.
    location /assets/ {
        expires 1y;
        add_header Cache-Control "public, immutable";
    }
}
